# 二項定理

IT系専門学校の講師と学ぶ高校数学

## 2,3次の展開

2次の展開から考えてみる．(中学生で既習)

これは公式として覚えている人も多いはず，普通に展開してもすぐに解けます
$$
(x + y) ^2 = x^2 + 2xy + y^2
$$
次に3次の展開，これは高校の数学Ⅰの範囲です．
$$
(x + y)^3 = x^3 + 3x^2y + 3xy^2 + y^3　　　(1)
$$
(1)式を応用して，4次の展開も行ってみよう．
$$
(x + y)^4 = (x^3 + 3x^2y + 3xy^2 + y^3)(x + y) = x^4 + 4x^3y + 6x^2y^2 + 4xy^3 + y^4
$$




これらを帰納的に考えると，以下の一般化を考えたくなる．

2,3,…と考えていくのはめんどくさいので，法則性を見つけよう．

係数をだけを取れだして，法則を見つけよう

```
0:     1
1:    1 1
2:   1 2 1
3:  1 3 3 1
4: 1 4 6 4 1
：　　　：
```

このように係数に着目すると，規則性が見えてきます．

つまり，上記の三角形(パスカルの三角形という)は一つ上の2係数の和になっていることが明らかです．

ココからは少々ややこしく感じるかもしれませんが，やってみましょう．

●乗の●をnとおいてみます．

## 二項定理

$$
(x + y)^n = (x + y)(x + y)・・・(x+y)　　n個存在する
\\        = {}_n C_0 a^nb^0 + {}_{n} C_1a^{n-1}b^1 + ・・・ + {}_n C_n a^0b^n
\\        = \sum_{k=0}^n {}_n C_k x^{n-k} y^k
$$

### 解説

1. まずなぜ組み合わせが出てきたかです．
   組み合わせには以下のような性質があり，左右対称の係数に使いやすいです．
   $$
   {}_n C_k = {}_n C_{n-r}
   $$
   これはつまり，10人から1人選ぶパターンと10人から9人選ぶパターンは一緒ということ．
   学級委員になる人を1人決めるのか，学級委員にならない人を9人決めるのかは同じこと

2. nを使った累乗表現ですが，これはコンピュータでの2進数表現に近いところがあります．
   (xを使うか，yを使うかを決定すること)をn回繰り返します． 
   n=2 であれば (x, x) (x, y) (y, x) (y, y)のパターンが出てきます．
   (情報工学(離散)では，2ビットで表せる情報は4種類(11,10,01,00)となります． 2^n = 4)

3. なぜ総和(Σ)が出てきたかですが，これは一般化するのに，すべての項を足し算するのを
   表記するのがめんどくさいからです．
   IT技術者はめんどくさい繰り返しを避けるために繰り返し構文であるforやwhileなどを使い，
   繰り返し表現を避けます．
   $$
   \sum_{k=0}^n {}_n C_k x^{n-k} y^k
   $$
   [プログラム言語]

   ```javascript
   // 数式通りに計算する
   function calc_bt(x, y, n) {
       let sum = 0;
       for(let k = 0; k <= n; k++) {  // k: 0~nまでの(n+1)回実行される
           sum += comb(n, k) * (x ** (n - k)) * (y ** k);
       }
       document.write(sum);
   }
   
   /**
   * 組み合わせ計算
   */
   function comb(n, r){
   return fact(n) / ( fact(n - r) * fact(r) );
   }
   
   /** 
   * 階乗計算
   */
   function fact(n) {
   if (n <= 0) {
       return 1; // 0乗だけは，1を返すように設定しないとすべての計算結果が0になる
   }
   return n * fact(n - 1); // forで掛け算させるのめんどいので，自己呼び出しを再帰的に繰り返す
   }
   ```


   ```javascript
   /**
    * 計算式を出力する
    * @param n
    */
   function print_bt(n) {
       let sum = 0;
      for(let k = 0; k <= n; k++) {
       if(comb(n, k) != 1) {
           document.write(comb(n, k));
   	}
      	if ((n - k) > 0) {
           document.write("x");
           if ((n - k) > 1) {
               document.write("^" + (n - k) );
           }
      	}
      	if(k > 0) {
           document.write("y");  
           if (k > 1) {
               document.write("^" + k);
           }
      	}
      	if ( k != n ) {
           document.write("+");
      	}
      }
   }
   
   print_bt(2);
   document.write("<br>");
   print_bt(3);
   ```

   
